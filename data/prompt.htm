<!DOCTYPE html>
<html>
	<head>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
		<script src="tabhandler.js"></script>
		<meta http-equiv="Content-type" content="text/html; charset=utf-8">
		<link rel="stylesheet" type="text/css" href="./style.css">
		<title>ESP8266 Web Server</title>
	</head>
	<body>
		
		<div class="outerContainer">
			<div class="container">
			
				<div class="header-title">
					<h1>ESP8266 Web Server Login</h1>
					<p>Created and Managed by CYBERGANG, 2019</p>
				</div>
				
				<div class="tab">
					<button class="tablinks" id = "Login_Tab" onclick="openForm('Login')">Log in</button>
					<button class="tablinks" id = "Register_Tab" onclick="openForm('Register')">Register</button>
				</div>
				
				<div id="Login" class="tabcontent">
					
					<div class="form">
						<form action="/login" method="post">
							Username: <input name="username" type="text"><br>
							Password: <input name="password" type="password"><br>
							<input type="submit" value="Log in">
						</form>
					</div>
				</div>
				
				<div id="Register" class="tabcontent">
				
					<div class="form">
						<form action="/login" method="post">
							Username: <input name="username" type="text"><br>
							Password: <input name="password" type="password"><br>
							Group: <br>
							R: <input id="chk_r" type="checkbox">
							G: <input id="chk_g" type="checkbox">
							B: <input id="chk_b" type="checkbox">
							<br>
							<input type="hidden" name="group" id="groupin">
							<input type="submit" formaction="/register" value="Register">
						</form>		
						<script>
							function updateGroup() {
								gruppe=0;
								if ($("#chk_r").prop("checked")) {
									gruppe = gruppe | 4;
								}
								if ($("#chk_g").prop("checked")) {
									gruppe = gruppe | 2;
								}
								if ($("#chk_b").prop("checked")) {
									gruppe = gruppe | 1;
								}
								$("#groupin").val(gruppe);
							}
							$("#chk_r").change(function(evt){
								updateGroup();
							});
							$("#chk_g").change(function(evt){
								updateGroup();
							});
							$("#chk_b").change(function(evt){
								updateGroup();
							});
						</script>		
					</div>
				</div>
			</div>
		<div>
	</body>
</html>
